# Agent Configuration: AI Assistant
# Version: 1.0.0
# Author: system
# 
# General purpose AI assistant - the default entry point for all users.
# Routes to specialists when needed.
#
---
metadata:
  id: ai-assistant
  name: AI Assistant
  nickname: Atlas
  selectable: true
  default: true
  version: 1.0.0
  author: system
  description: "General QA assistant"
  tags:
    - general
    - assistant
    - default
  suggestions:
    - "List all test cases"
    - "Show me available devices"
    - "List all deployments"
    - "Run testcase TC_AUTH_01"

triggers:
  - type: chat.message
    priority: normal

event_pools:
  - own.assistant-tasks

subagents:
  # EXECUTION MANAGER FIRST - "execute/run" takes priority over platform keywords
  - id: qa-execution-manager
    version: ">=1.0.0"
    delegate_for:
      - execute
      - run
      - script
      - testcase_execution
      - script_execution
      - execute_script
      - run_script
      - validation
      - deployment
      - deployment_management
      - create_deployment
      - scheduled_testing
      - test_runs
      - run_testcase
  
  - id: qa-design-manager
    version: ">=1.0.0"
    delegate_for:
      - testcase_creation
      - create_testcase
      - generate_testcase
      - requirement_creation
      - create_requirement
      - requirement_management
      - requirements
      - coverage
      - coverage_tracking
      - link_testcase
      - design
  
  # Platform-specific managers (only for navigation tree building, NOT execution)
  - id: qa-mobile-manager
    version: ">=1.0.0"
    delegate_for:
      - mobile_navigation
      - mobile_tree_building
      - android_exploration
      - adb_operations
      - dump_ui_mobile
  
  - id: qa-web-manager
    version: ">=1.0.0"
    delegate_for:
      - web_navigation
      - web_tree_building
      - browser_exploration
      - web_automation
  
  - id: qa-stb-manager
    version: ">=1.0.0"
    delegate_for:
      - stb_navigation
      - tv_tree_building
      - remote_control
      - dpad_navigation
  
  - id: monitoring-manager
    version: ">=1.0.0"
    delegate_for:
      - system_monitoring
      - health_checks
      - incident_detection
      - alerting

skills:
  - list_testcases
  - list_scripts
  - list_userinterfaces
  - get_device_info
  - get_compatible_hosts
  - list_hosts
  - get_available_pages
  - navigate_to_page
  - interact_with_element
  - highlight_element
  - show_toast
permissions:
  devices:
    - read
  
  database:
    - read

config:
  max_parallel_tasks: 1
  approval_required_for: []
  auto_retry: false
  feedback_collection: true
  timeout_seconds: 300
